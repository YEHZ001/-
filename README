市场供需平衡模拟 - 经济学实验游戏
一、游戏简介
本游戏是一个基于 Python 和 Pygame 库开发的市场供需平衡模拟游戏，旨在通过模拟市场环境，让玩家深入理解经济学中的供需平衡原理。玩家在游戏中需要调整商品价格，使市场达到供需平衡，并在规定回合内尽可能获得高分。
二、安装与运行
1. 环境要求
Python 3.6+
Pygame 库
2. 安装依赖
如果尚未安装 Pygame 库，可以使用以下命令进行安装：
pip install pygame
3. 运行游戏
将代码保存为 市场供需游戏（1）.py 文件，然后在终端中运行以下命令：
python 市场供需游戏 (1).py
三、游戏规则
1. 游戏目标
在规定的 10 个回合内，调整商品价格，使市场的供给量和需求量尽可能接近均衡点，以获得更高的分数。如果在某一回合中，价格与均衡价格的差值小于 1，且数量与均衡数量的差值小于 5，则游戏成功。
2. 游戏操作
调整价格：可以通过点击界面上的 “+” 和 “-” 按钮，或者使用键盘上的 “↑” 和 “↓” 键来增加或减少当前价格。
提交价格：点击 “提交价格” 按钮，或者按下键盘上的 “Enter” 键，确认当前价格，并进入下一回合。
重新开始：点击 “重新开始” 按钮，或者按下键盘上的 “R” 键，重置游戏。
3. 得分机制
每回合的得分根据当前价格与均衡价格的差值，以及当前供需数量与均衡数量的差值计算得出。得分范围为 0 - 10 分，差值越小，得分越高。总得分是所有回合得分的累加。
四、界面说明
1. 标题区域
显示游戏的标题 “市场供需平衡模拟实验”。
2. 理论说明面板
介绍经济学中的供需平衡原理，包括需求定律、供给定律和市场均衡点的概念。
3. 供需曲线图区域
坐标轴：横轴表示商品数量 (Q)，纵轴表示商品价格 (P)。
需求曲线：用红色线条表示，遵循需求定律，即价格上升，需求量减少。
供给曲线：用绿色线条表示，遵循供给定律，即价格上升，供给量增加。
均衡点：用黄色圆点表示，是市场供需平衡的状态。
当前价格点：分别用红色和绿色圆点表示当前价格下的需求量和供给量。
当前价格线：用蓝色线条表示当前价格，并显示当前价格的数值。
图例：说明需求曲线、供给曲线和均衡点的颜色和含义。
4. 控制面板区域
回合信息：显示当前回合数和总回合数。
当前价格显示：显示当前设定的商品价格。
供需情况：显示当前价格下的需求量和供给量。
价格调整按钮：“+” 和 “-” 按钮用于增加或减少当前价格。
提交按钮：“提交价格” 按钮用于确认当前价格，并进入下一回合。
重新开始按钮：“重新开始” 按钮用于重置游戏。
得分显示：显示当前总得分。
5. 历史记录区域
显示上一回合的游戏记录，包括回合数、价格、需求量、供给量和得分。
6. 游戏状态提示区域
游戏成功：当玩家找到均衡价格时，显示恭喜信息，并提示点击 “重新开始” 进行下一轮实验。
游戏结束：当达到最大回合数时，显示游戏结束信息，并显示最终得分。
五、代码结构
1. 导入库
导入 Pygame 和其他必要的库。
2. 初始化设置
初始化 Pygame 和字体，设置屏幕大小和标题，定义颜色和字体。
3. 供需曲线参数
随机生成需求曲线和供给曲线的参数，并计算均衡价格和数量。
4. 游戏状态变量
定义回合数、最大回合数、得分、历史记录和游戏状态等变量。
5. 按钮类
定义按钮类，用于创建和处理按钮的绘制、悬停和点击事件。
6. 按钮动作函数
定义增加价格、减少价格、提交价格和重新开始游戏的函数。
7. 绘制函数
draw_supply_demand_curve()：绘制供需曲线、均衡点和当前价格点。
draw_game_ui()：绘制整个游戏界面，包括标题、理论说明、曲线图、控制面板、历史记录和游戏状态提示。
8. 主游戏循环
处理游戏事件，包括鼠标点击、键盘输入和退出事件，更新界面并刷新屏幕。
六、注意事项
游戏中的供需曲线参数是随机生成的，每次游戏的均衡点可能不同。
价格调整范围为 1 - 100，超出此范围的调整将无效。
游戏结束后，点击 “重新开始” 按钮可以开始新的游戏。
